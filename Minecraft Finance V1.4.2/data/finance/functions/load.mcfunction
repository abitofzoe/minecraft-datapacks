#Add objectives
scoreboard objectives add stock_1 dummy
scoreboard objectives add stock_2 dummy
scoreboard objectives add stock_3 dummy
scoreboard objectives add stock_4 dummy
scoreboard objectives add stock_5 dummy
scoreboard objectives add stock_6 dummy
scoreboard objectives add stock_7 dummy
scoreboard objectives add stock_8 dummy
scoreboard objectives add stock_9 dummy
scoreboard objectives add SM_gameday dummy
scoreboard objectives add SM_misseddays dummy
scoreboard objectives add SM_lastday dummy
scoreboard objectives add SM_daytime dummy

scoreboard objectives add SM_bankaction trigger
scoreboard objectives add SM_bankwithdraw dummy
scoreboard objectives add SM_d_1 dummy
scoreboard objectives add SM_d_10 dummy
scoreboard objectives add SM_d_100 dummy
scoreboard objectives add SM_d_1000 dummy
scoreboard objectives add SM_d_10000 dummy
scoreboard objectives add SM_d_100000 dummy
scoreboard objectives add SM_d_total dummy

scoreboard objectives add SM_pd_100 dummy
scoreboard objectives add SM_pd_1000 dummy
scoreboard objectives add SM_pd_10000 dummy
scoreboard objectives add SM_pd_100000 dummy
scoreboard objectives add SM_pd_1000000 dummy
scoreboard objectives add SM_pd_10000000 dummy
scoreboard objectives add SM_pd_total dummy

scoreboard objectives add SM_b_acct_no dummy
scoreboard objectives add SM_b_acct_lg_pvl dummy
scoreboard objectives add SM_b_acct_lg_pvm dummy
scoreboard objectives add SM_b_acct_lg_pvd dummy
scoreboard objectives add SM_b_acct_lg_ct dummy
scoreboard objectives add SM_b_acct_lg_cal dummy
scoreboard objectives add SM_b_acct_lg_cam dummy
scoreboard objectives add SM_b_acct_lg_cad dummy
scoreboard objectives add SM_b_acct_lg_1t dummy
scoreboard objectives add SM_b_acct_lg_1al dummy
scoreboard objectives add SM_b_acct_lg_1am dummy
scoreboard objectives add SM_b_acct_lg_1ad dummy
scoreboard objectives add SM_b_acct_lg_2t dummy
scoreboard objectives add SM_b_acct_lg_2al dummy
scoreboard objectives add SM_b_acct_lg_2am dummy
scoreboard objectives add SM_b_acct_lg_2ad dummy
scoreboard objectives add SM_b_acct_lg_3t dummy
scoreboard objectives add SM_b_acct_lg_3ad dummy
scoreboard objectives add SM_b_acct_lg_3al dummy
scoreboard objectives add SM_b_acct_lg_3am dummy
scoreboard objectives add SM_b_acct_lg_4t dummy
scoreboard objectives add SM_b_acct_lg_4ad dummy
scoreboard objectives add SM_b_acct_lg_4al dummy
scoreboard objectives add SM_b_acct_lg_4am dummy
scoreboard objectives add SM_b_acct_lg_5t dummy
scoreboard objectives add SM_b_acct_lg_5ad dummy
scoreboard objectives add SM_b_acct_lg_5al dummy
scoreboard objectives add SM_b_acct_lg_5am dummy
scoreboard objectives add SM_b_acct_lg_6t dummy
scoreboard objectives add SM_b_acct_lg_6al dummy
scoreboard objectives add SM_b_acct_lg_6am dummy
scoreboard objectives add SM_b_acct_lg_6ad dummy
scoreboard objectives add SM_b_acct_lg_7t dummy
scoreboard objectives add SM_b_acct_lg_7al dummy
scoreboard objectives add SM_b_acct_lg_7am dummy
scoreboard objectives add SM_b_acct_lg_7ad dummy
scoreboard objectives add SM_b_acct_lg_8t dummy
scoreboard objectives add SM_b_acct_lg_8ad dummy
scoreboard objectives add SM_b_acct_lg_8am dummy
scoreboard objectives add SM_b_acct_lg_8al dummy
scoreboard objectives add SM_b_acct_lg_9t dummy
scoreboard objectives add SM_b_acct_lg_9ad dummy
scoreboard objectives add SM_b_acct_lg_9am dummy
scoreboard objectives add SM_b_acct_lg_9al dummy
scoreboard objectives add SM_b_acct_lg_xt dummy
scoreboard objectives add SM_b_acct_lg_xad dummy
scoreboard objectives add SM_b_acct_lg_xam dummy
scoreboard objectives add SM_b_acct_lg_xal dummy

scoreboard objectives add SM_temp dummy

scoreboard objectives add SM_const_10 dummy
scoreboard objectives add SM_const_100 dummy
scoreboard objectives add SM_const_1000 dummy
scoreboard objectives add SM_const_10000 dummy
scoreboard objectives add SM_const_100000 dummy
scoreboard objectives add SM_const_1000000 dummy
scoreboard objectives add SM_const_10000000 dummy
scoreboard objectives add SM_const_inv dummy

scoreboard players set SM_system SM_const_10 10
scoreboard players set SM_system SM_const_100 100
scoreboard players set SM_system SM_const_1000 1000
scoreboard players set SM_system SM_const_10000 10000
scoreboard players set SM_system SM_const_100000 100000
scoreboard players set SM_system SM_const_1000000 1000000
scoreboard players set SM_system SM_const_10000000 10000000
scoreboard players set SM_system SM_const_inv -1

scoreboard objectives add SM_rng_value dummy
scoreboard objectives add SM_rng_1 dummy
scoreboard objectives add SM_rng_10 dummy
scoreboard objectives add SM_rng_100 dummy
scoreboard objectives add SM_rng_1000 dummy
scoreboard objectives add SM_rng_10000 dummy
scoreboard objectives add SM_rng_100000 dummy
scoreboard objectives add SM_rng_1000000 dummy
scoreboard objectives add SM_rng_10000000 dummy
scoreboard objectives add SM_rng_100000000 dummy

scoreboard players set SM_system SM_rng_1 1
scoreboard players set SM_system SM_rng_10 10
scoreboard players set SM_system SM_rng_100 100
scoreboard players set SM_system SM_rng_1000 1000
scoreboard players set SM_system SM_rng_10000 10000
scoreboard players set SM_system SM_rng_100000 100000
scoreboard players set SM_system SM_rng_1000000 1000000
scoreboard players set SM_system SM_rng_10000000 10000000
scoreboard players set SM_system SM_rng_100000000 100000000

scoreboard objectives add SM_balance_least dummy
scoreboard objectives add SM_balance_most dummy
scoreboard objectives add SM_balance_dec dummy

scoreboard objectives add SM_credit_least dummy
scoreboard objectives add SM_credit_most dummy
scoreboard objectives add SM_credit_dec dummy

scoreboard objectives add SM_check_eco dummy
scoreboard objectives add SM_skip_log dummy
scoreboard objectives add SM_disp_append dummy

scoreboard objectives add SM_debit_least dummy
scoreboard objectives add SM_debit_most dummy
scoreboard objectives add SM_debit_dec dummy

scoreboard objectives add SM_balance_pend dummy
scoreboard objectives add SM_balance_pendi dummy
scoreboard objectives add SM_withdraw_pend trigger
scoreboard objectives add SM_pwithdraw_pnd trigger
scoreboard objectives add SM_pwithdrawing trigger
scoreboard objectives add SM_withdrawing trigger
scoreboard objectives add SM_deaths deathCount 

scoreboard objectives add SM_pointwithdraw trigger

scoreboard objectives add SM_cex_account dummy

scoreboard objectives add SM_linked_cex dummy
scoreboard objectives add SM_linked_bank dummy
scoreboard objectives add SM_cexwithdraw dummy
scoreboard objectives add SM_cexwdraw_pnd trigger
scoreboard objectives add SM_cexwdrawing trigger
scoreboard objectives add SM_pcexwithdraw dummy
scoreboard objectives add SM_pcexwdraw_pnd trigger
scoreboard objectives add SM_pcexwdrawing trigger

scoreboard objectives add SM_cex_move trigger
scoreboard objectives add SM_cex_moving trigger
scoreboard objectives add SM_pcex_move trigger
scoreboard objectives add SM_pcex_moving trigger
scoreboard objectives add SM_cex_inv trigger
scoreboard objectives add SM_pcex_inv trigger

scoreboard objectives add SM_flag dummy

forceload add 29999000 29999000 29999000 29999000
execute unless entity @e[type=armor_stand,tag=SM_RNG_0] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_0","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_1] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_1","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_2] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_2","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_3] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_3","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_4] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_4","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_5] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_5","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_6] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_6","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_7] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_7","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_8] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_8","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_9] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_9","SM_holds_rng"]} 
execute unless entity @e[type=armor_stand,tag=SM_RNG_stor] positioned 29999000 0 29999000 run summon armor_stand ~ ~ ~ {Invulnerable:1,Marker:1b,NoGravity:1,NoAI:1,Silent:1,Tags:["SM_RNG","SM_RNG_stor","SM_holds_rng"]} 

scoreboard players set @e[type=armor_stand,tag=SM_RNG_0] SM_rng_value 0
scoreboard players set @e[type=armor_stand,tag=SM_RNG_1] SM_rng_value 1
scoreboard players set @e[type=armor_stand,tag=SM_RNG_2] SM_rng_value 2
scoreboard players set @e[type=armor_stand,tag=SM_RNG_3] SM_rng_value 3
scoreboard players set @e[type=armor_stand,tag=SM_RNG_4] SM_rng_value 4
scoreboard players set @e[type=armor_stand,tag=SM_RNG_5] SM_rng_value 5
scoreboard players set @e[type=armor_stand,tag=SM_RNG_6] SM_rng_value 6
scoreboard players set @e[type=armor_stand,tag=SM_RNG_7] SM_rng_value 7
scoreboard players set @e[type=armor_stand,tag=SM_RNG_8] SM_rng_value 8
scoreboard players set @e[type=armor_stand,tag=SM_RNG_9] SM_rng_value 9

tellraw @a [{"text":"[SloopFinance] ","color":"green"},{"text":"Testing for ","color":"white"},{"text":"EssentialsEconomy","color":"gold"},{"text":" support...","color":"white"}]
execute store success score SM_system SM_check_eco run function finance:probe/eco_compat_check
execute if score SM_system SM_check_eco matches 0 run tellraw @a [{"text":"[SloopFinance] ","color":"yellow"},{"text":"EssentialsEconomy","color":"gold"},{"text":" was not found! Keeping vanilla rules.","color":"white"}]