execute if score @s VG_vehicleaction matches 1 as @a[sort=nearest,limit=1,distance=..1,scores={VG_vehicleid=1..}] at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/exitvehicle
execute if score @s VG_vehicleaction matches 2 at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/gobackwards
execute if score @s VG_vehicleaction matches 3 at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/goforwards
execute if entity @a[sort=nearest,limit=1,distance=..1,scores={VG_sneak=1..}] if score @s VG_vehicleaction matches 4 at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/turnleft
execute if entity @a[sort=nearest,limit=1,distance=..1,scores={VG_sneak=1..}] if score @s VG_vehicleaction matches 5 at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/turnright
execute if score @s[scores={VG_vehiclemovmod=0}] VG_vehicleaction matches 6 as @a[sort=nearest,limit=1,distance=..1,scores={VG_usecooldown=0,VG_vehicleid=1..}] at @s anchored eyes positioned ^ ^ ^1 unless entity @e[type=shulker,distance=..0.75,tag=VG_armoredcarbody] run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/firelmg
execute if score @s[scores={VG_vehiclemovmod=1..2}] VG_vehicleaction matches 6 as @a[sort=nearest,limit=1,distance=..1,scores={VG_usecooldown=0,VG_vehicleid=1..}] at @s anchored eyes positioned ^ ^ ^1 unless entity @e[type=shulker,distance=..0.75,tag=VG_armoredcarbody] run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/firelmg
execute if score @s[scores={VG_vehiclemovmod=0}] VG_vehicleaction matches 6 as @a[sort=nearest,limit=1,distance=..1,scores={VG_usecooldown=0,VG_vehicleid=1..,VG_sneak=0}] at @s anchored eyes positioned ^ ^ ^1 if entity @e[type=shulker,distance=..0.75,tag=VG_armoredcarbody] run playsound minecraft:block.stone_button.click_off master @s ~ ~ ~ 1 2 0
execute if score @s[scores={VG_vehiclemovmod=1..2}] VG_vehicleaction matches 6 as @a[sort=nearest,limit=1,distance=..1,scores={VG_usecooldown=0,VG_vehicleid=1..,VG_sneak=0}] at @s anchored eyes positioned ^ ^ ^1 if entity @e[type=shulker,distance=..0.75,tag=VG_armoredcarbody] run playsound minecraft:block.stone_button.click_off master @s ~ ~ ~ 1 2 0
execute if score @s VG_vehicleaction matches 104 at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/turnleftsmall
execute if score @s VG_vehicleaction matches 105 at @s run function vanillaguns2:warmachines/hotbar/actionhandler/armoredcar/turnrightsmall
execute if score @s[tag=VG_vehiclemoving] VG_vehicleaction matches 106..108 at @s run function vanillaguns2:warmachines/movement/suspendmovement
execute unless score @s[tag=VG_vehiclemoving] VG_vehicleaction matches 106..108 at @s run function vanillaguns2:warmachines/movement/resumemovement