#LEVEL 1
execute if score currentlvl IZS_LvlSelected matches 1 run tp @a[tag=IZ_inminigame] 10.5 4 10.5
execute if score currentlvl IZS_LvlSelected matches 1 run summon villager 24 4 0 {Tags:["IZ_inminigame"],Profession:1,CustomName:"{\"text\":\"Protect Me!\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"oak_log",Count:2},maxUses:9999999,sell:{id:"coal",Count:1},rewardExp:false},{buy:{id:"coal",Count:2},maxUses:9999999,sell:{id:"iron_ingot",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:2},maxUses:9999999,sell:{id:"gold_ingot",Count:1},rewardExp:false},{buy:{id:"gold_ingot",Count:2},maxUses:9999999,sell:{id:"redstone",Count:1},rewardExp:false},{buy:{id:"gold_ingot",Count:2},maxUses:9999999,sell:{id:"lapis_lazuli",Count:1},rewardExp:false},{buy:{id:"gold_ingot",Count:2},maxUses:9999999,sell:{id:"emerald",Count:1},rewardExp:false},{buy:{id:"emerald",Count:2},maxUses:9999999,sell:{id:"diamond",Count:1},rewardExp:false}]},Rotation:[0f,0f]}
execute if score currentlvl IZS_LvlSelected matches 1 run summon villager 24 4 20 {Tags:["IZ_inminigame"],Profession:3,CustomName:"{\"text\":\"Protect Me Too!\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"oak_log",Count:1},maxUses:9999999,sell:{id:"snow",Count:48},rewardExp:false},{buy:{id:"oak_log",Count:3},maxUses:9999999,sell:{id:"dirt",Count:32},rewardExp:false},{buy:{id:"coal",Count:2},maxUses:9999999,sell:{id:"oak_planks",Count:40},rewardExp:false},{buy:{id:"iron_ingot",Count:3},maxUses:9999999,sell:{id:"end_stone_bricks",Count:24},rewardExp:false},{buy:{id:"gold_ingot",Count:3},maxUses:9999999,sell:{id:"white_concrete",Count:24},rewardExp:false},{buy:{id:"emerald",Count:1},maxUses:9999999,sell:{id:"end_stone",Count:8},rewardExp:false},{buy:{id:"emerald",Count:3},maxUses:9999999,sell:{id:"obsidian",Count:6},rewardExp:false}]},Rotation:[180f,0f]}
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 3..4 run summon villager 10 4 3 {Tags:["IZ_inminigame"],Profession:2,CustomName:"{\"text\":\"Protect Me As Well!\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"lapis_lazuli",Count:3},maxUses:9999999,sell:{id:"enchanting_table",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"bookshelf",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Pistol\"}",Lore:["Rename this with an anvil to get better guns!"]}}},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Shotgun\"}",Lore:["Rename this with an anvil to get better guns!"]}}},rewardExp:false},{buy:{id:"gold_ingot",Count:2},maxUses:9999999,sell:{id:"anvil",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"arrow",Count:16},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"spectral_arrow",Count:8},rewardExp:false},{buy:{id:"iron_ingot",Count:8},maxUses:9999999,sell:{id:"armor_stand",Count:1},rewardExp:false}]},Rotation:[-90f,0f]}
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 5.. run summon villager 10 4 3 {Tags:["IZ_inminigame"],Profession:2,CustomName:"{\"text\":\"Protect Me As Well!\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"lapis_lazuli",Count:3},maxUses:9999999,sell:{id:"enchanting_table",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"bookshelf",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Pistol\"}",Lore:["Rename this with an anvil to get better guns!"]}}},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Shotgun\"}",Lore:["Rename this with an anvil to get better guns!"]}}},rewardExp:false},{buy:{id:"gold_ingot",Count:2},maxUses:9999999,sell:{id:"anvil",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"arrow",Count:16},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"spectral_arrow",Count:8},rewardExp:false},{buy:{id:"iron_ingot",Count:8},maxUses:9999999,sell:{id:"armor_stand",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"fire_charge",Count:2},rewardExp:false},{buy:{id:"gold_ingot",Count:3},maxUses:9999999,sell:{id:"elytra",Count:1},rewardExp:false},{buy:{id:"iron_ingot",Count:1},maxUses:9999999,sell:{id:"tnt",Count:4},rewardExp:false},{buy:{id:"iron_ingot",Count:2},maxUses:9999999,sell:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:1}}},rewardExp:false},{buy:{id:"iron_ingot",Count:3},maxUses:9999999,sell:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:3}}},rewardExp:false},{buy:{id:"iron_ingot",Count:4},maxUses:9999999,sell:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:5}}},rewardExp:false}]},Rotation:[-90f,0f]}
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 1 run clone 0 5 15 0 5 16 10 4 0 replace force
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 2 run clone 0 6 15 0 6 16 10 4 0 replace force
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 3 run clone 0 7 15 0 7 16 10 4 0 replace force
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 4 run clone 0 8 15 0 8 16 10 4 0 replace force
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 5 run clone 0 9 15 0 9 16 10 4 0 replace force
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 6 run clone 0 10 15 0 10 16 10 4 0 replace force
execute if score currentlvl IZS_LvlSelected matches 1 if score difficulty IZ_adifficulty matches 4.. run clone 0 11 15 0 11 15 10 5 0 replace force

#Level 2
execute if score currentlvl IZS_LvlSelected matches 2 run tp @a[tag=IZ_inminigame] 12.5 4 -20.5
execute if score currentlvl IZS_LvlSelected matches 2 run clone 9 4 -62 24 11 -48 9 4 -35 replace
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 1 run clone 0 5 15 0 5 16 10 4 -22 replace force
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 2 run clone 0 6 15 0 6 16 10 4 -22 replace force
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 3 run clone 0 7 15 0 7 16 10 4 -22 replace force
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 4 run clone 0 8 15 0 8 16 10 4 -22 replace force
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 5 run clone 0 9 15 0 9 16 10 4 -22 replace force
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 6 run clone 0 10 15 0 10 16 10 4 -22 replace force
execute if score currentlvl IZS_LvlSelected matches 2 if score difficulty IZ_adifficulty matches 4.. run clone 0 11 15 0 11 15 10 5 -22 replace force

#Level 3
execute if score currentlvl IZS_LvlSelected matches 3 run tp @a[tag=IZ_inminigame] 71.5 4 134.5
execute if score currentlvl IZS_LvlSelected matches 3 run summon villager 71 4 126 {Tags:["IZ_inminigame"],Profession:1,CustomName:"{\"text\":\"Main Villager\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"oak_log",Count:4},maxUses:9999999,sell:{id:"coal",Count:2},rewardExp:false},{buy:{id:"coal",Count:8},maxUses:9999999,sell:{id:"iron_ingot",Count:2},rewardExp:false},{buy:{id:"iron_ingot",Count:6},maxUses:9999999,sell:{id:"gold_ingot",Count:1},rewardExp:false},{buy:{id:"gold_ingot",Count:4},maxUses:9999999,sell:{id:"lapis_lazuli",Count:1},rewardExp:false},{buy:{id:"lapis_lazuli",Count:4},maxUses:9999999,sell:{id:"emerald",Count:2},rewardExp:false},{buy:{id:"emerald",Count:8},maxUses:9999999,sell:{id:"diamond",Count:2},rewardExp:false}]},Rotation:[90f,0f]}
execute if score currentlvl IZS_LvlSelected matches 3 run summon villager 71 4 110 {Tags:["IZ_inminigame"],Profession:3,CustomName:"{\"text\":\"Block Villager\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"oak_log",Count:2},maxUses:9999999,sell:{id:"snow",Count:64},rewardExp:false},{buy:{id:"coal",Count:2},maxUses:9999999,sell:{id:"oak_log",Count:32},rewardExp:false},{buy:{id:"coal",Count:8},maxUses:9999999,sell:{id:"cobblestone",Count:48},rewardExp:false},{buy:{id:"iron_ingot",Count:2},maxUses:9999999,sell:{id:"polished_granite",Count:32},rewardExp:false},{buy:{id:"iron_ingot",Count:6},maxUses:9999999,sell:{id:"quartz_block",Count:16},rewardExp:false},{buy:{id:"gold_ingot",Count:10},maxUses:9999999,sell:{id:"gold_block",Count:1},rewardExp:false},{buy:{id:"gold_ingot",Count:8},maxUses:9999999,sell:{id:"end_stone",Count:32},rewardExp:false},{buy:{id:"lapis_lazuli",Count:6},maxUses:9999999,sell:{id:"end_stone_bricks",Count:64},rewardExp:false},{buy:{id:"lapis_lazuli",Count:8},maxUses:9999999,sell:{id:"obsidian",Count:32},rewardExp:false},{buy:{id:"emerald",Count:12},maxUses:9999999,sell:{id:"emerald_block",Count:1},rewardExp:false},{buy:{id:"emerald",Count:32},maxUses:9999999,sell:{id:"emerald_block",Count:2},rewardExp:false},{buy:{id:"diamond",Count:6},maxUses:9999999,sell:{id:"obsidian",Count:48},rewardExp:false},{buy:{id:"diamond",Count:20},maxUses:9999999,sell:{id:"diamond_block",Count:2},rewardExp:false},{buy:{id:"diamond",Count:32},maxUses:9999999,sell:{id:"diamond_block",Count:3},rewardExp:false},{buy:{id:"diamond",Count:64},buyB:{id:"diamond",Count:64},maxUses:9999999,sell:{id:"bedrock",Count:1},rewardExp:false}]},Rotation:[90f,0f]}
execute if score currentlvl IZS_LvlSelected matches 3 run summon villager 66 4 136 {Tags:["IZ_inminigame"],Profession:2,CustomName:"{\"text\":\"Guns Villager\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"coal",Count:4},maxUses:9999999,sell:{id:"fishing_rod",Count:1,tag:{display:{Name:"{\"text\":\"Pistol\"}"}}},rewardExp:false},{buy:{id:"iron_ingot",Count:2},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Shotgun\"}"}}},rewardExp:false},{buy:{id:"iron_ingot",Count:6},maxUses:9999999,sell:{id:"fishing_rod",Count:1,tag:{display:{Name:"{\"text\":\"Sub-Machine Gun\"}"}}},rewardExp:false},{buy:{id:"iron_ingot",Count:8},maxUses:9999999,sell:{id:"fishing_rod",Count:1,tag:{display:{Name:"{\"text\":\"Flamethrower\"}"}}},rewardExp:false},{buy:{id:"lapis_lazuli",Count:6},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Burst Rifle\"}"}}},rewardExp:false},{buy:{id:"emerald",Count:4},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Rifle\"}"}}},rewardExp:false},{buy:{id:"bedrock",Count:1},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"AA Rocket Gun\"}"}}},rewardExp:false},{buy:{id:"diamond",Count:6},maxUses:9999999,sell:{id:"carrot_on_a_stick",Count:1,tag:{display:{Name:"{\"text\":\"Rocket Gun\"}"}}},rewardExp:false}]},Rotation:[180f,0f]}
execute if score currentlvl IZS_LvlSelected matches 3 run summon villager 65 4 102 {Tags:["IZ_inminigame"],Profession:1,CustomName:"{\"text\":\"Ammo Villager\"}",CustomNameVisible:1,Career:1,CareerLevel:42,CanPickUpLoot:0,PersistenceRequired:1,NoAI:1,Silent:1,Offers:{Recipes:[{buy:{id:"coal",Count:8},maxUses:9999999,sell:{id:"iron_nugget",Count:16},rewardExp:false},{buy:{id:"iron_ingot",Count:8},maxUses:9999999,sell:{id:"gold_nugget",Count:6},rewardExp:false},{buy:{id:"iron_ingot",Count:12},maxUses:9999999,sell:{id:"spectral_arrow",Count:4},rewardExp:false},{buy:{id:"gold_ingot",Count:4},maxUses:9999999,sell:{id:"fire_charge",Count:8},rewardExp:false},{buy:{id:"lapis_lazuli",Count:8},maxUses:9999999,sell:{id:"blaze_rod",Count:2},rewardExp:false},{buy:{id:"emerald",Count:8},maxUses:9999999,sell:{id:"diamond",Count:2},rewardExp:false}]},Rotation:[0f,0f]}
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 1 run clone 27 4 94 27 4 95 71 4 135 replace force
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 2 run clone 27 5 94 27 5 95 71 4 135 replace force
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 3 run clone 27 6 94 27 6 95 71 4 135 replace force
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 4 run clone 27 7 94 27 7 95 71 4 135 replace force
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 5 run clone 27 8 94 27 8 95 71 4 135 replace force
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 6 run clone 27 9 94 27 9 95 71 4 135 replace force
execute if score currentlvl IZS_LvlSelected matches 3 if score difficulty IZ_adifficulty matches 5..6 run clone 27 10 95 27 10 95 71 5 136 replace force


#Scoreboard
scoreboard players set CreeperTimer info 60
scoreboard players set TotalZombies info 0
scoreboard players set SpawnLimit info 0
scoreboard players set Wave info 0
scoreboard players set Spawned info 0
scoreboard players set WallBusterTimer info 45
scoreboard players set SkeletonTimer info 30
scoreboard players set Wave temp 1
scoreboard players set actioncontrol IZ_actioncontrol 6
gamemode survival @a[tag=IZ_inminigame]
kill @e[type=item,x=0]
clear @a[tag=IZ_inminigame]

scoreboard players set IZ_system IZ_hurttimer 390
